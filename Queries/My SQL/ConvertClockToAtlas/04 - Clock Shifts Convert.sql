SET NOCOUNT ON

BEGIN TRANSACTION ClockShiftsConvert

PRINT 'حذف'
BEGIN

	DELETE FROM TA_WorkGroupDetail
	DELETE FROM TA_WorkGroup WHERE WorkGroup_ID in (-1,0)
	DELETE FROM TA_Shift WHERE Shift_ID in (-1,0)
	
	SET IDENTITY_INSERT dbo.TA_WorkGroup ON
	INSERT dbo.TA_WorkGroup ( WorkGroup_ID , WorkGroup_Name , WorkGroup_CustomCode , WorkGroup__grpsCode ) 
	VALUES  ( -1 ,N'' ,N'' ,0)
	SET IDENTITY_INSERT dbo.TA_WorkGroup OFF
	
	SET IDENTITY_INSERT dbo.TA_WorkGroup ON
	INSERT dbo.TA_WorkGroup( WorkGroup_ID ,WorkGroup_Name ,WorkGroup_CustomCode ,WorkGroup__grpsCode) 
	VALUES  ( 0 ,N'' ,N'' ,0 )
	SET IDENTITY_INSERT dbo.TA_WorkGroup OFF
	
	SET IDENTITY_INSERT dbo.TA_Shift ON
	INSERT TA_Shift( Shift_ID,Shift_Name ,Shift_Type ,Shift__shiftID ,Shift_NobatKari ,Shift_MinNobatKari ,Shift_Breakfast ,Shift_Lunch ,Shift_Dinner , Shift_Color , Shift_CustomCode)
	VALUES  ( -1, N'' ,  0 ,  0 , NULL ,  0 ,  NULL , NULL ,  NULL , '' ,  N'' )
	SET IDENTITY_INSERT dbo.TA_Shift OFF
	
	SET IDENTITY_INSERT dbo.TA_Shift ON
	INSERT dbo.TA_Shift( Shift_ID,Shift_Name ,Shift_Type ,Shift__shiftID ,Shift_NobatKari ,Shift_MinNobatKari ,Shift_Breakfast ,Shift_Lunch ,Shift_Dinner , Shift_Color , Shift_CustomCode)
	VALUES  ( 0, N'' ,  0 ,  0 , NULL ,  0 ,  NULL , NULL ,  NULL , '' ,  N'' )
	SET IDENTITY_INSERT dbo.TA_Shift OFF

END

PRINT 'چیدن شیفت ها'
BEGIN

	DECLARE @year NVARCHAR(MAX) = '1394'
	
	-- فروردین
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi('1393'+'/01/01') from clock.dbo.grp_dtl WHERE Grd_Year='1393'
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/30') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m1,31,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m1,62,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/01/31') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- اردیبهشت																																					 				  
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/30') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m2,31,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m2,62,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/02/31') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- خرداد																																					  
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/30') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m3,31,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m3,62,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/03/31') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- تیر																																							
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/30') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m4,31,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m4,62,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/04/31') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- مرداد																																					  
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/30') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m5,31,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m5,62,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/05/31') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- شهریور																																					  
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/30') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m6,31,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m6,62,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/06/31') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- مهر																																							
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m7,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m7,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/07/30') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- آبان																																						  
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m8,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m8,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/08/30') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- آذر																																							
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m9,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m9,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/09/30') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- دی																																							
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m10,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m10,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/10/30') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- بهمن																																						  
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/29') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m11,30,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m11,61,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/11/30') from clock.dbo.grp_dtl where grd_year=@year
																																									
	-- اسفند																																					  
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 WorkGroup_ID from TA_WorkGroup where CAST (WorkGroup_CustomCode AS INT)=grd_code) , '0'), ISNULL( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,01,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,32,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/01') from clock.dbo.grp_dtl WHERE Grd_Year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,02,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,33,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/02') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,03,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,34,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/03') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,04,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,35,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/04') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,05,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,36,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/05') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,06,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,37,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/06') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,07,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,38,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/07') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,08,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,39,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/08') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,09,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,40,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/09') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,10,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,41,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/10') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,11,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,42,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/11') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,12,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,43,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/12') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,13,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,44,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/13') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,14,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,45,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/14') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,15,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,46,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/15') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,16,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,47,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/16') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,17,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,48,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/17') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,18,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,49,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/18') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,19,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,50,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/19') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,20,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,51,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/20') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,21,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,52,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/21') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,22,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,53,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/22') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,23,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,54,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/23') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,24,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,55,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/24') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,25,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,56,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/25') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,26,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,57,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/26') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,27,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,58,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/27') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,28,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,59,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/28') from clock.dbo.grp_dtl where grd_year=@year
	insert ta_workgroupdetail (workgroupdtl_workgroupid, workgroupdtl_shiftid, workgroupdtl_date) select isnull( (select top 1 workgroup_id from ta_workgroup where CAST (workgroup_customcode AS INT)=grd_code) , '0'), isnull( (select top 1 shift_id from ta_shift where CAST (shift_customcode AS INT) = (cast ( cast( substring(grd_m12,29,1) as binary(1) ) as int) - 1) + (cast ( cast( substring(grd_m12,60,1) as binary(1) ) as int) - 1) ) , '0') , dbo.gts_asm_shamsitomiladi(@year+'/12/29') from clock.dbo.grp_dtl where grd_year=@year

END

PRINT 'حذف'
BEGIN

	DELETE FROM TA_WorkGroup WHERE WorkGroup_ID in (-1,0)
	DELETE FROM TA_Shift WHERE Shift_ID in (-1,0)
	DELETE FROM dbo.TA_WorkGroupDetail WHERE WorkGroupDtl_WorkGroupId IN (-1,0)
	DELETE FROM dbo.TA_WorkGroupDetail WHERE WorkGroupDtl_ShiftId IN (-1,0)

END

COMMIT TRANSACTION ClockShiftsConvert